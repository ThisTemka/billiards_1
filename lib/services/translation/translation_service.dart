import 'dart:ui';

import 'package:billiards/entities/settings/settings_repository.dart';
import 'package:billiards/services/translation/i_translition_service.dart';
import 'package:get/get.dart';
import 'package:riverpod/riverpod.dart';

final localeProvider = FutureProvider((ref) async {
  final settingsRepository = await ref.watch(settingsRepositoryProvider.future);
  final settings = await settingsRepository.getSettings();
  Get.updateLocale(settings.language);
  ref.listen(settingsRepositoryProvider, (previous, next) async {
    final settings = await next.requireValue.getSettings();
    Get.updateLocale(settings.language);
  });
});

final translationServiceProvider = Provider<ITranslationService>((ref) {
  return TranslationService();
});

class TranslationService extends Translations implements ITranslationService {
  @override
  Map<String, Map<String, String>> get keys => {
        'en': {
          'hello': 'Hello',
          'round': 'Round',
          'select_players': 'Select Players',
          'player_1': 'Player 1',
          'player_2': 'Player 2',
          'start_game': 'Start Game',
          'round_info': 'Round Info',
          'balls_left': 'balls left',
          'start_round': 'Start Round',
          'turn_controls': 'Turn Controls',
          'self_balls': 'Self Balls',
          'enemy_balls': 'Enemy Balls',
          'black_ball': 'Black Ball',
          'white_ball': 'White Ball',
          'jump': 'Jump',
          'table_exit': 'Table Exit',
          'self_ball_hit': 'Self Ball Hit',
          'complete_turn': 'Complete Turn',
          'view_statistics': 'View Statistics',
          'users': 'Users',
          'total_hits': 'Total Hits',
          'error_loading_users': 'Error loading users',
          'no_users': 'No users found',
          'settings': 'Settings',
          'language': 'Language',
          'theme': 'Theme',
          'light_theme': 'Light Theme',
          'dark_theme': 'Dark Theme',
          'english': 'English',
          'russian': 'Russian',
          'appearance': 'Appearance',
          'preferences': 'Preferences',
          'history': 'Match History',
          'no_matches': 'No matches found',
          'error_loading_matches': 'Error loading matches',
          'rounds': 'rounds',
          'winner': 'Winner',
          'retry': 'Retry',
          'app_title': 'Billiards Master',
          'app_subtitle': 'Become the best player',
          'new_game': 'New Game',
          'continue': 'Continue',
          'history': 'History',
          'players': 'Players',
          'top': 'Top',
          'round_wins': 'Round Wins',
          'round_loses': 'Round Losses',
          'average_move_duration': 'Avg. Move Duration',
          'average_move_in_line': 'Avg. Moves in Line',
          'accuracy_move': 'Move Accuracy',
          'current_balls': 'Current Balls',
          'random_balls': 'Random Balls',
          'enemy_balls': 'Enemy Balls',
          'white_ball': 'White Ball',
          'black_ball': 'Black Ball',
          'table_exit': 'Table Exit',
          'touch_ball': 'Touch Ball',
          'error_move': 'Error Move',
          'balls': 'Balls',
          'accurancy_move': 'Move Accuracy',
          'max_move_in_line': 'Max Moves in Line',
          'error_moves': 'Error Moves',
          'match_statistics': 'Match Statistics',
          'accuracy': 'Accuracy',
          'new_match': 'New Match',
          'exit': 'Exit',
          'no_match_data': 'No match data available',
          'match_info': 'Match Info',
          'vs': 'VS',
          'round_number': 'Round',
          'round_date': 'Date',
          'round_winner': 'Winner',
          'round_score': 'Score',
          'statistics': 'Statistics',
          'player_statistics': 'Player Statistics',
          'balls_statistics': 'Balls Statistics',
          'move_statistics': 'Move Statistics',
          'white_balls': 'White Balls',
          'black_balls': 'Black Balls',
          'lose_moves': 'Lose Moves',
          'score_moves': 'Score Moves',
          'simple_moves': 'Simple Moves',
          'select_player_turn': 'Select Player Turn',
          'left_balls': 'Left Balls',
          'left_enemy_balls': 'Left Enemy Balls',
          'Rounds': 'Rounds',
          'delete': 'Delete',
          'cancel': 'Cancel',
          'delete_user': 'Delete User',
          'delete_user_confirmation': 'Are you sure you want to delete @name?',
          'user_deleted': 'User deleted successfully',
          'error_deleting_user': 'Error deleting user',
          'name_required': 'Please enter a name',
          'player_exists': 'A player with this name already exists',
          'player_already_selected': 'This player is already selected',
          'error': 'Error',
        },
        'ru': {
          'hello': 'Привет',
          'round': 'Раунд',
          'select_players': 'Выберите игроков',
          'player_1': 'Игрок 1',
          'player_2': 'Игрок 2',
          'start_game': 'Начать игру',
          'round_info': 'Информация о раунде',
          'balls_left': 'шаров осталось',
          'start_round': 'Начать раунд',
          'turn_controls': 'Управление ходом',
          'self_balls': 'Свои шары',
          'enemy_balls': 'Чужие шары',
          'black_ball': 'Черный шар',
          'white_ball': 'Белый шар',
          'jump': 'Прыжок',
          'table_exit': 'Вылет со стола',
          'self_ball_hit': 'Задел свой шар',
          'complete_turn': 'Завершить ход',
          'view_statistics': 'Посмотреть статистику',
          'users': 'Игроки',
          'total_hits': 'Всего ударов',
          'error_loading_users': 'Ошибка загрузки игроков',
          'no_users': 'Игроки не найдены',
          'settings': 'Настройки',
          'language': 'Язык',
          'theme': 'Тема',
          'light_theme': 'Светлая тема',
          'dark_theme': 'Темная тема',
          'english': 'Английский',
          'russian': 'Русский',
          'appearance': 'Внешний вид',
          'preferences': 'Предпочтения',
          'history': 'История матчей',
          'no_matches': 'Матчи не найдены',
          'error_loading_matches': 'Ошибка загрузки матчей',
          'rounds': 'раундов',
          'winner': 'Победитель',
          'retry': 'Повторить',
          'app_title': 'Billiards Master',
          'app_subtitle': 'Стань лучшим игроком',
          'new_game': 'Новая игра',
          'continue': 'Продолжить',
          'history': 'История',
          'players': 'Игроки',
          'top': 'Топ',
          'round_wins': 'Победы в раундах',
          'round_loses': 'Поражения в раундах',
          'average_move_duration': 'Ср. время хода',
          'average_move_in_line': 'Ср. ходов в серии',
          'accuracy_move': 'Точность ходов',
          'current_balls': 'Текущие шары',
          'random_balls': 'Случайные шары',
          'enemy_balls': 'Чужие шары',
          'white_ball': 'Белый шар',
          'black_ball': 'Черный шар',
          'table_exit': 'Вылет со стола',
          'touch_ball': 'Касание шара',
          'error_move': 'Ошибка хода',
          'balls': 'Шары',
          'accurancy_move': 'Точность',
          'max_move_in_line': 'Макс. серия',
          'error_moves': 'Ошибки',
          'match_statistics': 'Статистика матча',
          'accuracy': 'Точность',
          'new_match': 'Новый матч',
          'exit': 'Выход',
          'no_match_data': 'Нет данных о текущем матче',
          'match_info': 'Информация о матче',
          'vs': 'ПРОТИВ',
          'round_number': 'Раунд',
          'round_date': 'Дата',
          'round_winner': 'Победитель',
          'round_score': 'Счет',
          'statistics': 'Статистика',
          'player_statistics': 'Статистика игрока',
          'balls_statistics': 'Статистика шаров',
          'move_statistics': 'Статистика ходов',
          'white_balls': 'Белые шары',
          'black_balls': 'Черные шары',
          'lose_moves': 'Проигрышные ходы',
          'score_moves': 'Забитые шары',
          'simple_moves': 'Простые ходы',
          'select_player_turn': 'Выберите ход игрока',
          'left_balls': 'Осталось шаров',
          'left_enemy_balls': 'Осталось шаров соперника',
          'Rounds': 'Раунды',
          'delete': 'Удалить',
          'cancel': 'Отмена',
          'delete_user': 'Удалить пользователя',
          'delete_user_confirmation': 'Вы уверены, что хотите удалить @name?',
          'user_deleted': 'Пользователь успешно удален',
          'error_deleting_user': 'Ошибка при удалении пользователя',
          'name_required': 'Пожалуйста, введите имя',
          'player_exists': 'Игрок с таким именем уже существует',
          'player_already_selected': 'Этот игрок уже выбран',
          'error': 'Ошибка',
        },
      };
}
